{"version":3,"file":"bundle.js","sources":["../src/car.js","../src/util.js","../src/raindrop.js","../src/weather.js","../src/main.js"],"sourcesContent":["class Car {\r\n\tconstructor() {\r\n\t\tthis.car = document.querySelector(\".car\");\r\n\t}\r\n\r\n\tmoveRight() {\r\n\t\tthis.car.classList.remove(\"car--move-left\");\r\n\t\tthis.car.classList.add(\"car--move-right\");\r\n\t}\r\n\r\n\tmoveLeft() {\r\n\t\tthis.car.classList.remove(\"car--move-right\");\r\n\t\tthis.car.classList.add(\"car--move-left\");\r\n\t}\r\n};\r\n\r\nconst car = new Car();\r\nexport default car;","const screenSize = {\r\n\twidth: document.documentElement.clientWidth || document.body.clientWidth,\r\n\theight: document.documentElement.clientHeight || document.body.clientHeight\r\n};\r\n\r\nconst getRandomValue = function (min, max) {\r\n\treturn Math.random() * (max - min) + min;\r\n};\r\n\r\nexport {screenSize, getRandomValue}","import {screenSize, getRandomValue} from './util.js';\r\n\r\nclass Raindrop {\r\n\tconstructor() {\r\n\t\tthis._reset();\r\n\t\tthis.infinity = true;\r\n\t}\r\n\r\n\t_reset() {\r\n\t\tthis.size = getRandomValue(1, 6);\r\n\t\tthis.x = getRandomValue(-screenSize.width, screenSize.width * 1.6);\r\n\t\tthis.y = getRandomValue(0, screenSize.height);\r\n\r\n\t\tthis.velocity = this.size;\r\n\t\tthis.hVelocity = this.size / 2;\r\n\t};\r\n\r\n\trender(ctx) {\r\n\t\tctx.strokeStyle = 'white';\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(this.x, this.y);\r\n\t\tctx.lineTo(this.x + this.size, this.y + this.size);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t};\r\n\r\n\tisOffscreen(trigg) {\r\n\t\tif (trigg) {\r\n\t\t\treturn this.y > screenSize.height + this.size ||\r\n\t\t\t\tthis.x > screenSize.width + this.size ||\r\n\t\t\t\tthis.x < -this.size;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tupdate() {\r\n\t\tthis.x += this.hVelocity;\r\n\t\tthis.y += this.velocity;\r\n\r\n\t\tif (this.isOffscreen(this.infinity)) {\r\n\t\t\tthis._reset();\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst cleanupFrame = function (ctx) {\r\n\tctx.clearRect(0, 0, screenSize.width, screenSize.height);\r\n};\r\n\r\nconst renderFrame = function (ctx, raindrops) {\r\n\tcleanupFrame(ctx);\r\n\r\n\traindrops.forEach(function (it) {\r\n\t\tit.render(ctx);\r\n\t\tit.update();\r\n\t});\r\n\r\n\trequestAnimationFrame(renderFrame.bind(null, ctx, raindrops));\r\n};\r\n\r\nconst setupRain = function () {\r\n\tconst DROPS = 600;\r\n\tconst canvas = document.querySelector('#canvas');\r\n\tconst ctx = canvas.getContext('2d');\r\n\r\n\tcanvas.width = screenSize.width;\r\n\tcanvas.height = screenSize.height;\r\n\r\n\twindow.raindrops = new Array(DROPS).fill('').map(function () {\r\n\t\treturn new Raindrop();\r\n\t});\r\n\r\n\trenderFrame(ctx, raindrops);\r\n};\r\n\r\nexport default setupRain;","import car from './car.js';\r\nimport setupRain from './raindrop.js';\r\n\r\nclass Weather {\r\n\tconstructor() {\r\n\t\tthis.weather = document.querySelector(\".weather\");\r\n\t\tthis.cloud = document.querySelector(\".weather__cloud\");\r\n\t}\r\n\r\n\ton() {\r\n\t\tsetTimeout(() => this.weather.classList.add(\"weather--on\"), 1000);\r\n\t}\r\n\r\n\tsunny() {\r\n\t\tthis.cloud.classList.remove(\"weather__cloud--opened\");\r\n\t\tsetTimeout(() => document.body.classList.remove(\"cloudy\"), 500);\r\n\t\twindow.raindrops.forEach((el) => {\r\n\t\t\tel.infinity = false;\r\n\t\t});\r\n\t}\r\n\r\n\tcloudy() {\r\n\t\tthis.cloud.classList.add(\"weather__cloud--opened\");\r\n\t\tsetupRain();\r\n\t\tsetTimeout(() => document.body.classList.add(\"cloudy\"), 500);\r\n\t}\r\n}\r\n\r\nconst weather = new Weather();\r\n\r\nfunction weatherSetup() {\r\n\tweather.on();\r\n\tconst busStation = document.querySelector('.bus-station');\r\n\tconst wolf = document.querySelector('.wolf');\r\n\r\n\tfunction changeWeather() {\r\n\t\tif (weather.cloud.classList.contains(\"weather__cloud--opened\")) {\r\n\t\t\tweather.sunny();\r\n\t\t\tcar.moveLeft();\r\n\t\t\twolf.classList.remove('wolf--jump');\r\n\t\t\tbusStation.classList.remove('bus-station--close');\r\n\t\t} else {\r\n\t\t\tweather.cloudy();\r\n\t\t\tcar.moveRight();\r\n\t\t\twolf.classList.add('wolf--jump');\r\n\t\t\tbusStation.classList.add('bus-station--close');\r\n\t\t}\r\n\t};\r\n\r\n\tweather.weather.addEventListener('click', changeWeather);\r\n};\r\n\r\nexport default weatherSetup","import weatherSetup from './weather.js';\r\n\r\nweatherSetup();"],"names":[],"mappings":"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"}